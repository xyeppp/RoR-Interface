<Interface xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../Interface.xsd">
    <Scripts>
        <Script file="Source/TacticsWindow.lua" />
    </Scripts>
    <Windows>
        <!-- In the current implementation this does not have to be a button.  There is no need for highlights/visible mouseovers. -->
        <!-- This window will be created by a factory -->
        <DynamicImage name="TacticButton" texture="tactics_editor" layer="popup" handleinput="true" texturescale="0.72">
            <Size>
                <AbsPoint x="45" y="46" />
            </Size>
            <TexCoords x="2" y="0" />
            <EventHandlers>
                <EventHandler event="OnLButtonDown" function="TacticsEditor.OnActiveTacticLButtonDown" />
                <EventHandler event="OnRButtonDown" function="TacticsEditor.OnActiveTacticRButtonDown" />
                <EventHandler event="OnMouseOver" function="TacticsEditor.OnMouseoverActiveTactic" />
                <EventHandler event="OnLButtonUp" function="TacticsEditor.OnTacticSlotLButtonUp" />
            </EventHandlers>
        </DynamicImage>

        <!-- This is for the spacers used to divide career tactics from renown tactics from tome tactics buttons.  -->
        <DynamicImage name="TacticSpacer" texture="EA_HUD_01" layer="popup" texturescale="1.5">
            <Size>
                <AbsPoint x="9" y="18" /> <!-- 6x12 -->
            </Size>
            <TexCoords x="106" y="40" />
        </DynamicImage>

        <!--    This is very similar to the TacticButton, however it is intended to be anchored vertically, rather
                than horizontally.  It also contains a label to the right of the dynamic image.
                It is one of the base elements of a dynamic tactics set tooltip window to create an informative display
                of which tactics are contained in some tactics set.
        -->
        <DynamicImage name="TacticTooltipButton" texture="tactics_editor" layer="popup" handleinput="false" texturescale="0.5">
            <Size>
                <AbsPoint x="32" y="32" />
            </Size>
            <TexCoords x="2" y="0" />
            <Windows>
                <Label name="$parentTacticName" font="font_default_text" maxchars="128"  wordwrap="false" autoresize="true" sticky="false">
                    <Size>
                        <AbsPoint x="400" y="20" />
                    </Size>
                    <Anchors>
                        <Anchor point="right" relativePoint="left" relativeTo="$parent">
                            <AbsPoint x="4" y="0" />
                        </Anchor>
                    </Anchors>
                </Label>
            </Windows>
        </DynamicImage>

        <!--    This is the container for the tactics set tooltips.  There is logic to dynamically resize
                this window and to set its extra text field accordingly.
        -->
        <Window name="TacticsSetTooltip">
            <Size>
                <AbsPoint x="300" y="75" />
            </Size>
            <Windows>
                <Window name="$parentBackground" inherits="EA_Window_DefaultTooltipBackground">
                    <Anchors>
                        <Anchor point="topleft" relativePoint="topleft" relativeTo="$parent" />
                        <Anchor point="bottomright" relativePoint="bottomright" relativeTo="$parent" />
                    </Anchors>
                </Window>
                <Label name="$parentEmptySetText" font="font_default_text_small" wordwrap="true" autoresize="true"  sticky="false">
                    <Size>
                        <AbsPoint x="280" y="30" />
                    </Size>
                    <Anchors>
                        <Anchor point="topleft" relativePoint="topleft" relativeTo="">
                            <AbsPoint x="10" y="10" />
                        </Anchor>
                    </Anchors>
                </Label>
                <Label name="$parentActionText" font="font_default_text_small" wordwrap="true" autoresize="true" sticky="false">
                    <Size>
                        <AbsPoint x="300" y="30" />
                    </Size>
                    <Anchors>
                        <Anchor point="bottomleft" relativePoint="bottomleft" relativeTo="">
                            <AbsPoint x="10" y="-10" />
                        </Anchor>
                        <Anchor point="bottomright" relativePoint="bottomright" relativeTo="">
                            <AbsPoint x="-10" y="-10" />
                        </Anchor>
                    </Anchors>
                    <Windows>
                        <FullResizeImage name="$parentLine" inherits="EA_FullResizeImage_TintableSolidBackground" >
                            <Size>
                                <AbsPoint x="280" y="3" />
                            </Size>
                            <Anchors>
                                <Anchor point="topleft" relativePoint="topleft" relativeTo="">
                                    <AbsPoint x="0" y="-10" />
                                </Anchor>
                                <Anchor point="topright" relativePoint="topright" relativeTo="">
                                    <AbsPoint x="0" y="-10" />
                                </Anchor>
                            </Anchors>
                            <TintColor r="100" g="65" b="50" a="255"/>
                        </FullResizeImage>
                    </Windows>
                    <Color r="175" g="175" b="175"/>
                </Label>
            </Windows>
        </Window>

        <!-- ComboBox template for the tactics set selector. -->
        <Button name="TacticsSetMenuButton" backgroundtexture="EA_HUD_01" highlighttexture="EA_HUD_01" font="font_default_text" textalign="center">
            <Size>
                <AbsPoint x="48" y="48" />
            </Size>
            <TextColors>
                <Normal r="255" g="255" b="255" a="255" />
                <NormalHighlit r="250" g="213" b="63" a="255" />
                <Pressed r="250" g="213" b="63" a="255" />
                <PressedHighlit r="250" g="213" b="63" a="255" />
                <Disabled r="92" g="92" b="92" a="255" />
            </TextColors>
            <TexSlices>
                <Normal         id="Tactics-Button"/>
                <NormalHighlit  id="Tactics-Button-Rollover"/>
                <Pressed        id="Tactics-Button-Depressed"/>
                <PressedHighlit id="Tactics-Button-Depressed"/>
                <Disabled       id="Tactics-Button-Disabled"/>
            </TexSlices>
            <!--
            <TexCoords>
                <Normal x="0" y="70" />
                <NormalHighlit x="0" y="119" />
                <Pressed x="48" y="119" />
                <PressedHighlit x="48" y="119" />
                <Disabled x="48" y="70" />
            </TexCoords>
            -->
            <TextOffset x="6" y="12" />

            <EventHandlers>
                <EventHandler event="OnMouseOver" function="TacticsEditor.TacticsSetMenuTooltip" /> <!-- This one is on top when set menu is closed.  -->
            </EventHandlers>
        </Button>

        <FullResizeImage name="TacticsComboBoxBackground" handleinput="false" layer="background">
            <Sizes>
                <TopLeft x="15" y="15" />
                <BottomRight x="15" y="15" />
                <Middle x="68" y="36" />
            </Sizes>
            <TexCoords>
                <TopLeft x="474" y="80" />
                <TopCenter x="489" y="80" />
                <TopRight x="638" y="80" />
                <MiddleLeft x="474" y="95" />
                <MiddleCenter x="489" y="95" />
                <MiddleRight x="638" y="95" />
                <BottomLeft x="474" y="180" />
                <BottomCenter x="489" y="180" />
                <BottomRight x="638" y="180" />
            </TexCoords>
        </FullResizeImage>

        <!-- Inherited by TacticsEditorSetMenu i.e. the gold hexagon -->
        <ComboBox name="TacticsSetComboBox" selectedbutton="TacticsSetMenuButton" menubackground="TacticsComboBoxBackground" menuitembutton="TacticsSetMenuButton">
            <Size>
                <AbsPoint x="48" y="49" /> <!-- combo boxes are only the size of their selected button now -->
            </Size>
            <MenuButtonOffset x="0" y="0" />
        </ComboBox>

        <!-- The Tactics Editor -->

        <Window name="EA_TacticsEditor" movable="false" skipinput="true" savesettings="true">
            <Size>
                <AbsPoint x="350" y="50" />
            </Size>
            <EventHandlers>
                <EventHandler event="OnInitialize" function="TacticsEditor.Initialize" />
                <EventHandler event="OnShutdown" function="TacticsEditor.Shutdown" />
                <EventHandler event="OnUpdate" function="TacticsEditor.Update" />
                <EventHandler event="OnInitializeCustomSettings" function="TacticsEditor.OnInitializeCustomSettings" />
            </EventHandlers>
            <Windows>
                <!-- This child window contains all the visible contents -->
                <Window name="$parentContents" >
                    <Anchors>
                        <Anchor point="topleft" relativePoint="topleft" relativeTo="$parent" />
                        <Anchor point="bottomright" relativePoint="bottomright" relativeTo="$parent" />
                    </Anchors>
                    <Windows>
                        <!--
                    <FullResizeImage name="$parentBackground" inherits="EA_FullResizeImage_TintableSolidBackground">
                        <Anchors>
                            <Anchor point="topleft" relativePoint="topleft" relativeTo="$parent" />
                            <Anchor point="bottomright" relativePoint="bottomright" relativeTo="$parent" />
                        </Anchors>
                    </FullResizeImage>
                    -->

                        <ComboBox name="$parentSetMenu" inherits="TacticsSetComboBox" layer="overlay" id="9999">
                            <Anchors>
                                <Anchor point="topleft" relativePoint="topleft" relativeTo="$parent" >
                                    <AbsPoint x="0" y="0" />
                                </Anchor>
                            </Anchors>
                            <EventHandlers>
                                <EventHandler event="OnSelChanged" function="TacticsEditor.OnSetMenuSelectionChanged" />
                                <EventHandler event="OnMouseOver" function="TacticsEditor.OnMouseOverSetMenu" />
                                <EventHandler event="OnLButtonUp" function="TacticsEditor.OnLButtonUpSetMenu" />
                            </EventHandlers>
                        </ComboBox>

                    </Windows>
                </Window>

            </Windows>
        </Window>
        
    </Windows>
</Interface>
