<Interface xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../Interface.xsd">
  <Scripts>
    <Script file="Source/BattlegroupHUD.lua"/>
  </Scripts>

  <Windows>

    <!-- ********* -->
    <!-- Templates -->
    <!-- ********* -->

    <Window name="BGMember" popable="false">
      <Size>
        <AbsPoint x="139" y="55"/>
      </Size>

      <Windows>

        <FullResizeImage name="$parentBackground" inherits="EA_FullResizeImage_TintableSolidBackground" alpha="0.25">
          <Anchors>
            <Anchor point="topleft" relativePoint="topleft" relativeTo="">
              <AbsPoint x="0" y="0"/>
            </Anchor>
            <Anchor point="bottomright" relativePoint="bottomright" relativeTo="">
              <AbsPoint x="0" y="0"/>
            </Anchor>
          </Anchors>
          <TintColor r="0" g="0" b="0" />
        </FullResizeImage>  
            
        <DynamicImage name="$parentDeathIcon" inherits="DeathImage" layer="background" alpha="0.75" texturescale="0.5">
            <Size>
                <AbsPoint x="44" y="44" />
            </Size>
            <Anchors>
                <Anchor point="top" relativePoint="top" relativeTo="$parent">
                    <AbsPoint x="0" y="5" />
                </Anchor>
            </Anchors>
        </DynamicImage>

        <Label name="$parentLabelName" font="font_heading_unitframe_con" textalign="center" layer="secondary" handleinput="false">
          <Size>
            <AbsPoint x="135" y="20" />
          </Size>
          <Anchors>
            <Anchor point="top" relativePoint="top" relativeTo="$parent">
              <AbsPoint x="0" y="0"/>
            </Anchor>
          </Anchors>
        </Label>

        <Label name="$parentLabelHealth" font="font_heading_unitframe_con" textalign="center" layer="secondary" handleinput="false">
          <Size>
            <AbsPoint x="135" y="20" />
          </Size>
          <Anchors>
            <Anchor point="bottom" relativePoint="top" relativeTo="$parentLabelName">
              <AbsPoint x="0" y="0"/>
            </Anchor>
          </Anchors>
        </Label>
        
        <StatusBar name="$parentHPBar" inherits="UnitFrameFriendlyHealthStatusSmallBar" popable="false" layer="background" interpolate="true">
            <Size>
                <AbsPoint x="135" y="55" />
            </Size>
            <Anchors>
                <Anchor point="top" relativePoint="top" relativeTo="$parent">
                    <AbsPoint x="0" y="0" />
                </Anchor>
            </Anchors>
        </StatusBar>
                             
        <StatusBar name="$parentAPBar" inherits="UnitFrameAPStatusBar" popable="false" layer="background" interpolate="true">
            <Size>
                <AbsPoint x="135" y="8" />
            </Size>
            <Anchors>
                <Anchor point="bottomleft" relativePoint="bottomleft" relativeTo="$parent">
                    <AbsPoint x="0" y="-2" />
                </Anchor>
            </Anchors>
        </StatusBar>
        
        <DynamicImage name="$parentCareerIcon"  textureScale="1.0" handleinput="true"  layer="default">
            <Size>
                <AbsPoint x="32" y="32" />
            </Size>
            <Anchors>
                <Anchor point="left" relativePoint="left" relativeTo="$parentHPBar">
                    <AbsPoint x="0" y="0" />
                </Anchor>
            </Anchors>
            <EventHandlers>
                <EventHandler event="OnMouseOver" function="BattlegroupHUD.OnMouseOverCareerIcon" />
            </EventHandlers>
        </DynamicImage>

      </Windows>

      <EventHandlers>
        <EventHandler event="OnLButtonUp" function="BattlegroupHUD.OnLButtonUpPlayerRow"/>
        <EventHandler event="OnRButtonUp" function="BattlegroupHUD.OnRButtonUp" />
      </EventHandlers>

    </Window>

    <Window name="BGGroup" popable="false" movable="false" layer="default">
      <Size>
        <AbsPoint x="139" y="330"/>
      </Size>

      <EventHandlers>
        <EventHandler event="OnUpdate" function="BattlegroupHUD.OnUpdate" />
      </EventHandlers>
      
      <Windows>

        <Window name="$parentMember1" inherits="BGMember">
          <Anchors>
            <Anchor point="topleft" relativePoint="topleft" relativeTo="$parent">
                <AbsPoint x="0" y="0" />
            </Anchor>
          </Anchors>
        </Window>

        <Window name="$parentMember2" inherits="BGMember">
          <Anchors>
            <Anchor point="bottomleft" relativePoint="topleft" relativeTo="$parentMember1">
                <AbsPoint x="0" y="0" />
            </Anchor>
          </Anchors>
        </Window>

        <Window name="$parentMember3" inherits="BGMember">
          <Anchors>
            <Anchor point="bottomleft" relativePoint="topleft" relativeTo="$parentMember2">
                <AbsPoint x="0" y="0" />
            </Anchor>
          </Anchors>
        </Window>

        <Window name="$parentMember4" inherits="BGMember">
          <Anchors>
            <Anchor point="bottomleft" relativePoint="topleft" relativeTo="$parentMember3">
                <AbsPoint x="0" y="0" />
            </Anchor>
          </Anchors>
        </Window>
        
        <Window name="$parentMember5" inherits="BGMember">
          <Anchors>
            <Anchor point="bottomleft" relativePoint="topleft" relativeTo="$parentMember4">
                <AbsPoint x="0" y="0" />
            </Anchor>
          </Anchors>
        </Window>
        
        <Window name="$parentMember6" inherits="BGMember">
          <Anchors>
            <Anchor point="bottomleft" relativePoint="topleft" relativeTo="$parentMember5">
                <AbsPoint x="0" y="0" />
            </Anchor>
          </Anchors>
        </Window>
        
        <DynamicImage name="$parentGroupLeaderIcon" inherits="GroupLeaderCrown">
            <Anchors>
                <Anchor point="top" relativePoint="bottom" relativeTo="$parent">
                    <AbsPoint x="0" y="2" />
                </Anchor>
            </Anchors>
        </DynamicImage>
        
        <DynamicImage name="$parentMainAssistIcon" inherits="MainAssistCrown">
            <Anchors>
                <Anchor point="top" relativePoint="bottom" relativeTo="$parent">
                    <AbsPoint x="0" y="2" />
                </Anchor>
            </Anchors>
        </DynamicImage>

      </Windows>
    </Window>

    <!-- ************* -->
    <!-- end Templates -->
    <!-- ************* -->

    <Window name="BattlegroupHUDGroup1LayoutWindow" inherits="BGGroup" savesettings="true">
        <Anchors>
            <Anchor point="bottomleft" relativePoint="topleft" relativeTo="PlayerWindow">
                <AbsPoint x="0" y="60" />
            </Anchor>
        </Anchors>
    </Window>
    <Window name="BattlegroupHUDGroup2LayoutWindow" inherits="BGGroup" savesettings="true">
        <Anchors>
            <Anchor point="bottomleft" relativePoint="topleft" relativeTo="BattlegroupHUDGroup1LayoutWindow">
                <AbsPoint x="0" y="15" />
            </Anchor>
        </Anchors>
    </Window>
    <Window name="BattlegroupHUDGroup3LayoutWindow" inherits="BGGroup" savesettings="true">
        <Anchors>
            <Anchor point="topright" relativePoint="topleft" relativeTo="BattlegroupHUDGroup1LayoutWindow">
                <AbsPoint x="5" y="0" />
            </Anchor>
        </Anchors>
    </Window>
    <Window name="BattlegroupHUDGroup4LayoutWindow" inherits="BGGroup" savesettings="true">
        <Anchors>
            <Anchor point="bottomleft" relativePoint="topleft" relativeTo="BattlegroupHUDGroup3LayoutWindow">
                <AbsPoint x="0" y="15" />
            </Anchor>
        </Anchors>
    </Window>


    <Window name="BattlegroupHUDSetOpacityWindow" movable="false" layer="popup" >
        <Size>
            <AbsPoint x="300" y="90" />
        </Size>
        <EventHandlers>
            <EventHandler event="OnLButtonDown" function="WindowUtils.TrapClick" />
            <EventHandler event="OnShown" function="WindowUtils.OnShown" />
            <EventHandler event="OnHidden" function="WindowUtils.OnHidden" />
        </EventHandlers>
        <Windows>

            <Window name="$parentTitleBar" inherits="EA_TitleBar_Default" />

            <Button name="$parentClose" inherits="EA_Button_DefaultWindowClose">
                <EventHandlers>
                    <EventHandler event="OnLButtonUp" function="BattlegroupHUD.CloseSetOpacityWindow" />
                </EventHandlers>
            </Button>

            <Window name="$parentBackground" inherits="EA_Window_DefaultFrame" >
                <Anchors>
                    <Anchor point="topleft" relativePoint="topleft" >
                        <AbsPoint x="0" y="32" />
                    </Anchor>
                    <Anchor point="bottomright" relativePoint="bottomright" >
                        <AbsPoint x="0" y="0" />
                    </Anchor>
                </Anchors>
            </Window>

            <SliderBar name="$parentSlider" inherits="EA_Default_SliderBar" >
                <Size>
                    <AbsPoint x="140" y="33" />
                </Size>
                <Anchors>
                    <Anchor point="left" relativePoint="left" >
                        <AbsPoint x="75" y="13" />
                    </Anchor>
                </Anchors>
                <EventHandlers>
                    <EventHandler event="OnSlide" function="BattlegroupHUD.OnOpacitySlide" />
                </EventHandlers>
            </SliderBar>
        </Windows>
    </Window>
      
  </Windows>

</Interface>
